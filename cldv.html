<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>S·ªï Tay CLDV BIDV 2025</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; -webkit-tap-highlight-color: transparent; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        const BRAND_GREEN = '#006B68';
        const BRAND_YELLOW = '#FFC62F';

        // --- ICONS ---
        const IconInfo = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>;
        const IconLayout = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>;
        const IconUsers = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        const IconUser = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>;
        const IconMonitor = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>;
        const IconSearch = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>;
        const IconX = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>;
        const IconChevronDown = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>;
        const IconChevronUp = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m18 15-6-6-6 6"/></svg>;
        const IconCheck = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m22 4-10 10-4-4"/></svg>;
        const IconShield = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>;
        const IconQuiz = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3M3.343 5.636l.707.707M6 12a6 6 0 1012 0 6 6 0 00-12 0z"/></svg>;
        const IconPlay = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>;
        const IconRefresh = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>;
        
        // --- D·ªÆ LI·ªÜU N·ªòI DUNG CHI TI·∫æT ---
        const DATA = {
            general: {
                id: 'general',
                title: "Quy ƒê·ªãnh Chung",
                icon: <IconInfo />,
                items: [
                {
                    title: "1. Ph·∫°m vi & ƒê·ªëi t∆∞·ª£ng (ƒêi·ªÅu 1)",
                    content: [
                    "Ph·∫°m vi: C√°c k√™nh v·∫≠t l√Ω g·ªìm (i) ƒêi·ªÉm giao d·ªãch (CN, PGD, Ph√≤ng KH...), (ii) M√°y giao d·ªãch t·ª± ƒë·ªông (ATM, CRM).",
                    "ƒê·ªëi t∆∞·ª£ng: T·∫•t c·∫£ c√° nh√¢n, ƒë∆°n v·ªã tr·ª±c thu·ªôc BIDV (bao g·ªìm c·∫£ chi nh√°nh n∆∞·ªõc ngo√†i)."
                    ]
                },
                {
                    title: "2. ƒê·ªãnh nghƒ©a CLDV (ƒêi·ªÅu 2)",
                    content: [
                    "CLDV: ƒê√°nh gi√° c·ªßa KH d·ª±a tr√™n so s√°nh th·ª±c t·∫ø nh·∫≠n ƒë∆∞·ª£c v·ªõi k·ª≥ v·ªçng.",
                    "C·∫•u th√†nh: Y·∫øu t·ªë con ng∆∞·ªùi + C∆° s·ªü v·∫≠t ch·∫•t.",
                    "C√°n b·ªô giao d·ªãch: GDV, GDV ng√¢n qu·ªπ, c√°n b·ªô ng√¢n h√†ng ƒëa nƒÉng.",
                    "C√°n b·ªô ti·∫øp ƒë√≥n (CSR): C√°n b·ªô chuy√™n tr√°ch ho·∫∑c ki√™m nhi·ªám (l·ªÖ t√¢n, t∆∞ v·∫•n vi√™n...) ƒë∆∞·ª£c ph√¢n c√¥ng."
                    ]
                },
                {
                    title: "3. Nguy√™n t·∫Øc & K√™nh ƒëo l∆∞·ªùng (ƒêi·ªÅu 6-8)",
                    content: [
                    "Nguy√™n t·∫Øc: ƒê√°nh gi√° d·ª±a tr√™n b·∫±ng ch·ª©ng kh√°ch quan. M·ªçi y√™u c·∫ßu kh√¥ng ƒë∆∞·ª£c ƒë√°p ·ª©ng (kh√¥ng l√†m, l√†m thi·∫øu, l√†m sai) ƒë·ªÅu t√≠nh l√† 'Kh√¥ng ƒë·∫°t'.",
                    "C√°c k√™nh ƒëo l∆∞·ªùng: (1) Kh·∫£o s√°t h√†i l√≤ng KH, (2) Ph·∫£n √°nh qua CXM, (3) ƒê√°nh gi√° tr·ª±c ti·∫øp t·∫°i ƒëi·ªÉm (Mystery Shopper/Ki·ªÉm tra), (4) Camera gi√°m s√°t, (5) S·ªë li·ªáu h·ªá th·ªëng (th·ªùi gian ch·ªù, giao d·ªãch...)."
                    ]
                },
                {
                    title: "4. Tr√°ch nhi·ªám & X·ª≠ l√Ω (ƒêi·ªÅu 9-11)",
                    content: [
                    "S·ª≠ d·ª•ng k·∫øt qu·∫£: T√≠nh v√†o KPI c√°n b·ªô, BSC Chi nh√°nh/Ph√≤ng.",
                    "Kh·∫Øc ph·ª•c: ƒêi·ªÉm giao d·ªãch ch·ªß ƒë·ªông kh·∫Øc ph·ª•c l·ªói ngay. V·ªõi l·ªói con ng∆∞·ªùi, c√°n b·ªô ƒë·∫ßu m·ªëi CLDV g√≥p √Ω tr·ª±c ti·∫øp.",
                    "Khen th∆∞·ªüng/K·ª∑ lu·∫≠t: Tuy√™n d∆∞∆°ng ƒë∆°n v·ªã xu·∫•t s·∫Øc, nh·∫Øc nh·ªü ƒë∆°n v·ªã th·∫•p ƒëi·ªÉm ƒë·ªãnh k·ª≥ h√†ng qu√Ω."
                    ]
                }
                ]
            },
            facilities: {
                id: 'facilities',
                title: "C∆° S·ªü V·∫≠t Ch·∫•t",
                icon: <IconLayout />,
                standards: [
                {
                    id: "TC01",
                    name: "Kh√¥ng gian b√™n ngo√†i",
                    details: [
                    "S·∫°ch s·∫Ω, kh√¥ng r√°c/ƒë·ªçng n∆∞·ªõc. Kh√¥ng b·ªã h√†ng qu√°n/xe c·ªô l·∫•n chi·∫øm l·ªëi ƒëi.",
                    "Bi·ªÉn hi·ªáu: ƒê·ªß bi·ªÉn t√™n, bi·ªÉn th∆∞∆°ng hi·ªáu, bi·ªÉn gi·ªù l√†m vi·ªác. S·∫°ch, kh√¥ng bong tr√≥c, phai m√†u.",
                    "Gi·ªù b·∫≠t ƒë√®n bi·ªÉn hi·ªáu: T·ª´ 18h00 ƒë·∫øn 05h00 s√°ng h√¥m sau (Mi·ªÅn B·∫Øc/Trung m√πa ƒë√¥ng t·ª´ th√°ng 11-3 b·∫≠t ƒë·∫øn 06h00).",
                    "C√¢y xanh: T∆∞∆°i t·ªët, kh√¥ng h√©o √∫a. V·∫≠t ph·∫©m qu·∫£ng c√°o (Standee/Banner) c√≤n hi·ªáu l·ª±c, th√°o g·ª° sau 1 ng√†y h·∫øt h·∫°n.",
                    "Khu v·ª±c ƒë·ªÉ xe: S·∫Øp x·∫øp g·ªçn g√†ng, c√≥ ch·ªâ d·∫´n."
                    ]
                },
                {
                    id: "TC02",
                    name: "Kh√¥ng gian b√™n trong",
                    details: [
                    "Chung: Tr·∫ßn/t∆∞·ªùng/s√†n s·∫°ch, kh√¥ng m·∫°ng nh·ªán/·∫©m m·ªëc. ƒê·ªß √°nh s√°ng, nhi·ªát ƒë·ªô ph√π h·ª£p, tho√°ng ƒë√£ng.",
                    "Khu v·ª±c ch·ªù: Gh·∫ø ng·ªìi ƒë·ªìng b·ªô, s·∫°ch. C√≥ b√¨nh n∆∞·ªõc/c·ªëc (khuy·∫øn kh√≠ch c·ªëc gi·∫•y 1 l·∫ßn ho·∫∑c c·ªëc th·ªßy tinh s·∫°ch c√≥ gi√° √∫p).",
                    "·∫§n ph·∫©m: T·ªù r∆°i/Brochure x·∫øp g·ªçn, c√≤n h·∫°n. B√°o ch√≠ (l∆∞u 2 tu·∫ßn), T·∫°p ch√≠ (l∆∞u 1 th√°ng).",
                    "Khu tr·∫£i nghi·ªám s·ªë: Thi·∫øt b·ªã ho·∫°t ƒë·ªông t·ªët, c√≥ h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng.",
                    "Kh√°c: C√¢y xanh s·∫°ch, kh√¥ng c√≥ t√†n thu·ªëc trong ch·∫≠u. Kh√¥ng c√≥ v·∫≠t d·ª•ng th·ª´a (th√πng carton, ƒë·ªì h·ªèng) ·ªü s·∫£nh."
                    ]
                },
                {
                    id: "TC03",
                    name: "Qu·∫ßy giao d·ªãch",
                    details: [
                    "B√†n qu·∫ßy: S·∫°ch, kh√¥ng b·ª•i. Ch·ªâ ƒë·ªÉ v·∫≠t d·ª•ng ph·ª•c v·ª• giao d·ªãch (b√∫t, bi·ªÉu m·∫´u, m√°y t√≠nh...).",
                    "C·∫•m: Kh√¥ng ƒë·ªÉ ƒë·ªì ƒÉn, ƒë·ªì c√° nh√¢n (t√∫i x√°ch, m·ªπ ph·∫©m...), v·∫≠t ph·∫©m qu·∫£ng c√°o ƒë·ªëi th·ªß tr√™n qu·∫ßy.",
                    "B√∫t vi·∫øt KH: B√∫t ƒë√¥i, m·ª±c r√µ, ƒë·∫∑t b√™n tay ph·∫£i KH. Kh√¥ng d√πng b√∫t th∆∞∆°ng hi·ªáu kh√°c.",
                    "T·∫°m ng·ª´ng: R·ªùi qu·∫ßy >15 ph√∫t ph·∫£i ƒë·∫∑t bi·ªÉn 'T·∫°m ng·ª´ng giao d·ªãch' ho·∫∑c bi·ªÉn b√°o t∆∞∆°ng t·ª±.",
                    "An to√†n: D√¢y ƒëi·ªán b√≥ g·ªçn. M√°y t√≠nh kh√≥a m√†n h√¨nh khi r·ªùi v·ªã tr√≠ >5 ph√∫t."
                    ]
                },
                {
                    id: "TC04",
                    name: "Kh√¥ng gian ∆∞u ti√™n (VIP)",
                    details: [
                    "T√≠nh ch·∫•t: Sang tr·ªçng, ri√™ng t∆∞, k√≠n ƒë√°o, h·∫°n ch·∫ø ti·∫øng ·ªìn.",
                    "Ti·ªán √≠ch: M√πi h∆∞∆°ng ƒë·∫∑c tr∆∞ng. C√≥ tr√†/caf√©/n∆∞·ªõc u·ªëng, khƒÉn gi·∫•y, s·∫°c pin...",
                    "Trang tr√≠: Tinh t·∫ø. Khuy·∫øn kh√≠ch d√πng hoa t∆∞∆°i (s·∫°ch, kh√¥ng h√©o). H·∫°n ch·∫ø hoa gi·∫£."
                    ]
                }
                ]
            },
            staff_general: {
                id: 'staff_general',
                title: "Ti√™u Chu·∫©n C√°n B·ªô",
                icon: <IconUsers />,
                standards: [
                {
                    id: "TC05",
                    name: "Di·ªán m·∫°o & Trang ph·ª•c",
                    details: [
                    "GDV: M·∫∑c ƒë·ªìng ph·ª•c BIDV t·ª´ Th·ª© 2 - Th·ª© 6. (√Åo s∆° mi, vest, khƒÉn/cravat, th·∫ª t√™n).",
                    "Back office: ƒê·ªìng ph·ª•c T2-T4. T5-T6 m·∫∑c c√¥ng s·ªü l·ªãch s·ª±.",
                    "Gi√†y (N·ªØ): B√≠t m≈©i, m√†u ƒëen, cao 3-7cm. Kh√¥ng ƒëi sandal, gi√†y h·ªü m≈©i, gi√†y b·ªát (tr·ª´ khi mang thai).",
                    "Gi√†y (Nam): Gi√†y t√¢y ƒëen/n√¢u/n√¢u ƒëen. T·∫•t t·ªëi m√†u, tr√πng m√†u qu·∫ßn/gi√†y.",
                    "T√≥c: G·ªçn g√†ng, m√†u nhu·ªôm t·ªëi. N·ªØ t√≥c d√†i qu√° vai ph·∫£i b√∫i/c·ªôt (d√¢y ƒëen). Nam kh√¥ng c·∫°o tr·ªçc, kh√¥ng ƒë·ªÉ t√≥c d√†i ch·∫°m c·ªï √°o.",
                    "M√≥ng tay: S·∫°ch, c·∫Øt ng·∫Øn (<0.2cm). N·ªØ s∆°n m√†u nh√£ nh·∫∑n, kh√¥ng ƒë√≠nh ƒë√° r∆∞·ªùm r√†.",
                    "Trang s·ª©c: T·ªëi ƒëa 3 m√≥n. Kh√¥ng ƒëeo khuy√™n m≈©i/l√¥ng m√†y. Nam kh√¥ng ƒëeo khuy√™n tai.",
                    "Th·∫ª t√™n: ƒêeo ngay ng·∫Øn ng·ª±c tr√°i (gi·ªØa c√∫c √°o 2-3) ho·∫∑c d√¢y ƒëeo c·ªï."
                    ]
                },
                {
                    id: "TC06",
                    name: "Th√°i ƒë·ªô & T√°c phong",
                    details: [
                    "T∆∞ th·∫ø: ƒê·ª©ng th·∫≥ng/ng·ªìi ngay ng·∫Øn. Kh√¥ng khoanh tay, ch·ªëng c·∫±m, g·ª•c ƒë·∫ßu, ng·∫£ ng·ªën.",
                    "√Ånh m·∫Øt: Nh√¨n v√†o v√πng tam gi√°c (m·∫Øt-mi·ªáng) c·ªßa KH. Kh√¥ng nh√¨n m√†n h√¨nh khi ƒëang n√≥i chuy·ªán.",
                    "Di chuy·ªÉn: Nhanh nh·∫πn, d·ª©t kho√°t. Nh∆∞·ªùng ƒë∆∞·ªùng cho KH, ng∆∞·ªùi gi√†, ph·ª• n·ªØ mang thai.",
                    "L√†m vi·ªác ri√™ng: C·∫§M ƒÉn u·ªëng, h√∫t thu·ªëc, t·ª• t·∫≠p n√≥i chuy·ªán ri√™ng, s·ª≠ d·ª•ng ƒëi·ªán tho·∫°i c√° nh√¢n (tr·ª´ vi·ªác c·∫ßn thi·∫øt) tr∆∞·ªõc m·∫∑t KH."
                    ]
                },
                {
                    id: "TC07",
                    name: "Giao ti·∫øp",
                    details: [
                    "X∆∞ng h√¥: Em/Ch√°u - Anh/Ch·ªã/C√¥/Ch√∫ + T√™n KH (n·∫øu bi·∫øt).",
                    "X∆∞ng danh: D√πng 'BIDV' (VD: S·∫£n ph·∫©m c·ªßa BIDV...), kh√¥ng d√πng 'b√™n em', 'ch√∫ng em'.",
                    "ƒêi·ªán tho·∫°i: Nh·∫•c m√°y tr∆∞·ªõc 3 h·ªìi chu√¥ng. Xin ph√©p tr∆∞·ªõc khi gi·ªØ m√°y (kh√¥ng qu√° 30s).",
                    "C·∫•m k·ªµ: Kh√¥ng n√≥i tr·ªëng kh√¥ng, kh√¥ng d√πng t·ª´ l√≥ng/ƒë·ªãa ph∆∞∆°ng. Kh√¥ng ng·∫Øt l·ªùi KH.",
                    "Ch√†o: 'BIDV k√≠nh ch√†o Qu√Ω kh√°ch'. M·∫´u c√¢u: 'Em c√≥ th·ªÉ gi√∫p g√¨ ƒë∆∞·ª£c cho Anh/Ch·ªã ·∫°?'."
                    ]
                },
                {
                    id: "TC08-09",
                    name: "Nghi·ªáp v·ª• & Khi·∫øu n·∫°i",
                    details: [
                    "T∆∞ v·∫•n: Ch√≠nh x√°c, ƒë·∫ßy ƒë·ªß, d·ªÖ hi·ªÉu. Kh√¥ng n√≥i 'Kh√¥ng bi·∫øt', ch·ªß ƒë·ªông t√¨m h·ªó tr·ª£ n·∫øu ch∆∞a r√µ.",
                    "Sai s√≥t: Xin l·ªói ch√¢n th√†nh, kh√¥ng ƒë·ªï l·ªói. Th√¥ng b√°o h∆∞·ªõng x·ª≠ l√Ω v√† th·ªùi gian c·ª• th·ªÉ.",
                    "Khi·∫øu n·∫°i: L·∫Øng nghe, ƒë·ªìng c·∫£m, m·ªùi KH v√†o khu v·ª±c ri√™ng n·∫øu KH gay g·∫Øt."
                    ]
                }
                ]
            },
            roles: {
                id: 'roles',
                title: "Theo V·ªã Tr√≠",
                icon: <IconUser />,
                list: [
                {
                    role: "Giao D·ªãch Vi√™n (GDV)",
                    tasks: [
                    "ƒê√≥n kh√°ch: ƒê·ª©ng d·∫≠y, c√∫i ch√†o, m·ªâm c∆∞·ªùi khi KH ƒë·∫øn qu·∫ßy.",
                    "Giao d·ªãch: Nh·∫≠n/tr·∫£ ti·ªÅn, ch·ª©ng t·ª´ b·∫±ng 2 tay (ho·∫∑c 1 tay ƒë·ª°).",
                    "T∆∞∆°ng t√°c: G·ªçi t√™n KH √≠t nh·∫•t 01 l·∫ßn. Th√¥ng b√°o r√µ s·ªë ti·ªÅn thu/chi.",
                    "K·∫øt th√∫c: H·ªèi th√™m nhu c·∫ßu ('Anh/Ch·ªã c·∫ßn h·ªó tr·ª£ g√¨ th√™m kh√¥ng?'). Ch√†o v√† c·∫£m ∆°n.",
                    "L∆∞u √Ω: N·∫øu KH ch·ªù l√¢u (>15p) ph·∫£i xin l·ªói. R·ªùi qu·∫ßy ph·∫£i xin ph√©p KH."
                    ]
                },
                {
                    role: "QLKH (RM/RM VIP)",
                    tasks: [
                    "Chu·∫©n b·ªã: Hi·ªÉu ch√¢n dung KH, chu·∫©n b·ªã t√†i li·ªáu tr∆∞·ªõc khi g·∫∑p.",
                    "ƒê√≥n ti·∫øp (VIP): Ra t·∫≠n s·∫£nh/c·ª≠a ƒë√≥n, ch√†o b·∫±ng t√™n. M·ªùi v√†o ph√≤ng ri√™ng.",
                    "T∆∞ v·∫•n: C√° nh√¢n h√≥a, t·∫≠p trung v√†o l·ª£i √≠ch d√†i h·∫°n. Ch·ªß ƒë·ªông b√°n ch√©o.",
                    "ChƒÉm s√≥c: T∆∞∆°ng t√°c ƒë·ªãnh k·ª≥ (Sinh nh·∫≠t, L·ªÖ t·∫øt). Nh·∫Øc n·ª£/ƒë√°o h·∫°n tr∆∞·ªõc: 3 ng√†y (TK), 15 ng√†y (BH), 30 ng√†y (Vay).",
                    "Cam k·∫øt: Ph·∫£n h·ªìi ƒë√∫ng h·∫°n. N·∫øu tr·ªÖ ph·∫£i th√¥ng b√°o v√† xin l·ªói."
                    ]
                },
                {
                    role: "Ti·∫øp ƒë√≥n (CSR/L·ªÖ t√¢n)",
                    tasks: [
                    "S·∫µn s√†ng: C√≥ m·∫∑t tr∆∞·ªõc gi·ªù GD 5 ph√∫t.",
                    "ƒê√≥n kh√°ch: Ch·ªß ƒë·ªông m·ªü c·ª≠a (n·∫øu ko c√≥ b·∫£o v·ªá), c∆∞·ªùi ch√†o 'BIDV k√≠nh ch√†o...'.",
                    "Ph√¢n lu·ªìng: H·ªèi nhu c·∫ßu, l·∫•y s·ªë, m·ªùi KH ng·ªìi ch·ªù ƒë√∫ng khu v·ª±c.",
                    "Quan s√°t: H·ªó tr·ª£ KH l√∫ng t√∫ng, KH ch·ªù l√¢u. M·ªùi n∆∞·ªõc KH.",
                    "Ti·ªÖn kh√°ch: C√∫i ch√†o, c·∫£m ∆°n."
                    ]
                },
                {
                    role: "B·∫£o v·ªá",
                    tasks: [
                    "Di·ªán m·∫°o: ƒê·ªìng ph·ª•c ch·ªânh t·ªÅ, ƒëi gi√†y (kh√¥ng ƒë·∫°p g√≥t). Kh√¥ng h√∫t thu·ªëc/ng·ªß g·∫≠t.",
                    "ƒê√≥n kh√°ch: Ch·ªß ƒë·ªông ch·ªâ d·∫´n n∆°i ƒë·ªó xe. D·∫Øt xe cho KH (ƒë·∫∑c bi·ªát n·ªØ, ng∆∞·ªùi gi√†).",
                    "H·ªó tr·ª£: Che √¥/d√π khi m∆∞a n·∫Øng. X√°ch ƒë·ªì n·∫∑ng gi√∫p KH.",
                    "Ch√†o: C√∫i ch√†o, m·ªâm c∆∞·ªùi khi kh√°ch ƒë·∫øn v√† v·ªÅ ('BIDV k√≠nh ch√†o Qu√Ω kh√°ch')."
                    ]
                }
                ]
            },
            atm: {
                id: 'atm',
                title: "ATM & CRM",
                icon: <IconMonitor />,
                standards: [
                {
                    id: "ATM01",
                    name: "C∆° s·ªü v·∫≠t ch·∫•t",
                    details: [
                    "V·ªã tr√≠: Thu·∫≠n ti·ªán, l·ªëi v√†o tho√°ng. C√≥ m√°i che m∆∞a n·∫Øng.",
                    "Booth: S·∫°ch s·∫Ω (v√°ch, tr·∫ßn, s√†n, k√≠nh). Kh√¥ng m√πi h√¥i, kh√¥ng r√°c, kh√¥ng b·ª•i.",
                    "Bi·ªÉn hi·ªáu: S√°ng ƒë√®n 18h-5h. Kh√¥ng cong v√™nh, phai m√†u. D√°n ƒë√∫ng decal quy ƒë·ªãnh.",
                    "Nhi·ªát ƒë·ªô: Duy tr√¨ 10-30 ƒë·ªô C (c√≥ ƒëi·ªÅu h√≤a/qu·∫°t th√¥ng gi√≥)."
                    ]
                },
                {
                    id: "TC02",
                    name: "Trang thi·∫øt b·ªã",
                    details: [
                    "Camera: Ho·∫°t ƒë·ªông t·ªët, g√≥c quay r√µ m·∫∑t KH (kh√¥ng quay b√†n ph√≠m).",
                    "An to√†n: H·ªá th·ªëng b√°o ƒë·ªông, c·∫£m bi·∫øn nhi·ªát/l·ª±c ho·∫°t ƒë·ªông t·ªët.",
                    "Ni√™m y·∫øt: S·ªë Hotline h·ªó tr·ª£, h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng r√µ r√†ng, d·ªÖ ƒë·ªçc."
                    ]
                },
                {
                    id: "TC03-04",
                    name: "V·∫≠n h√†nh & D·ªãch v·ª•",
                    details: [
                    "Uptime: Ho·∫°t ƒë·ªông 24/7. N·∫øu b·∫£o tr√¨ ph·∫£i d√°n th√¥ng b√°o th·ªùi gian ho·∫°t ƒë·ªông l·∫°i.",
                    "M√†n h√¨nh: S√°ng r√µ, kh√¥ng l√≥a. Ph√≠m b·∫•m, khe th·∫ª ho·∫°t ƒë·ªông tr∆°n tru.",
                    "Ti·ªÅn: ƒê·ªß ti√™u chu·∫©n l∆∞u th√¥ng. Ti·∫øp qu·ªπ khi c√≤n <5% ho·∫∑c <70 tri·ªáu ƒë·ªìng (ho·∫∑c 7 ng√†y/l·∫ßn).",
                    "X·ª≠ l√Ω l·ªói: N·ªôi ƒë√¥ <4h. Khu v·ª±c kh√°c <8h (ng√†y l√†m vi·ªác).",
                    "Khi·∫øu n·∫°i: X·ª≠ l√Ω nhanh, ho√†n qu·ªπ cho KH theo quy ƒë·ªãnh."
                    ]
                }
                ]
            }
        };

        // --- COMPONENTS ---

        const AccordionItem = ({ title, children, defaultOpen = false }) => {
            const [isOpen, setIsOpen] = useState(defaultOpen);

            return (
                <div className="border border-gray-200 rounded-lg mb-3 overflow-hidden shadow-sm bg-white">
                    <button
                        onClick={() => setIsOpen(!isOpen)}
                        className="w-full flex justify-between items-center p-4 text-left hover:bg-gray-50 transition-colors"
                    >
                        <span className="font-semibold text-gray-800" style={{ color: BRAND_GREEN }}>{title}</span>
                        {isOpen ? <span style={{ color: BRAND_GREEN }}><IconChevronUp /></span> : <span className="text-gray-400"><IconChevronDown /></span>}
                    </button>
                    {isOpen && (
                        <div className="p-4 pt-0 border-t border-gray-100 text-gray-600 bg-gray-50/50">
                            {children}
                        </div>
                    )}
                </div>
            );
        };

        const GeneralView = ({ data }) => (
            <div className="space-y-4 animate-fade-in">
                <div className="bg-blue-50 border-l-4 border-blue-500 p-4 rounded text-sm text-blue-800 mb-4 shadow-sm">
                    <div className="font-bold flex items-center gap-2 mb-1">
                        <IconInfo /> L∆∞u √Ω quan tr·ªçng
                    </div>
                    <p>Vi·ªác tu√¢n th·ªß quy ƒë·ªãnh ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn KPI v√† ƒë√°nh gi√° thi ƒëua.</p>
                </div>

                <div className="w-full mb-6">
                    <img 
                        src="CLDV.png" 
                        alt="Banner CLDV" 
                        className="w-full h-auto rounded-xl shadow-md object-cover"
                        onError={(e) => {
                            e.target.style.display = 'none';
                            const placeholder = document.createElement('div');
                            placeholder.className = "w-full h-40 bg-gray-100 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center text-gray-400 text-sm p-4 text-center";
                            placeholder.innerHTML = `
                                <div class="mb-2 opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg></div>
                                <span class="font-medium">Ch∆∞a t√¨m th·∫•y ·∫£nh: CLDV.png</span>
                                <span class="text-xs mt-1">Vui l√≤ng ƒë·∫∑t file ·∫£nh c√πng th∆∞ m·ª•c v·ªõi file index.html</span>
                            `;
                            e.target.parentNode.appendChild(placeholder);
                        }}
                    />
                </div>

                {data.items.map((item, idx) => (
                    <div key={idx} className="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                        <h3 className="font-bold text-lg mb-3" style={{ color: BRAND_GREEN }}>{item.title}</h3>
                        <ul className="space-y-3">
                            {item.content.map((line, i) => (
                                <li key={i} className="flex items-start gap-3 text-gray-700">
                                    <span className="mt-1 flex-shrink-0" style={{ color: BRAND_GREEN }}><IconCheck /></span>
                                    <span>{line}</span>
                                </li>
                            ))}
                        </ul>
                    </div>
                ))}
            </div>
        );

        const StandardView = ({ data }) => (
            <div className="space-y-2 animate-fade-in">
                {data.standards.map((std, idx) => (
                    <AccordionItem key={idx} title={`${std.id} - ${std.name}`} defaultOpen={idx === 0}>
                        <ul className="space-y-3">
                            {std.details.map((detail, i) => (
                                <li key={i} className="flex items-start gap-3 text-sm md:text-base">
                                    <span className="w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0" style={{ backgroundColor: BRAND_YELLOW }}></span>
                                    <span>{detail}</span>
                                </li>
                            ))}
                        </ul>
                    </AccordionItem>
                ))}
            </div>
        );

        const RoleSelector = ({ data }) => {
            const [activeRole, setActiveRole] = useState(0);

            return (
                <div className="animate-fade-in">
                    <div className="flex flex-wrap gap-2 mb-4">
                        {data.list.map((role, idx) => (
                            <button
                                key={idx}
                                onClick={() => setActiveRole(idx)}
                                className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${
                                    activeRole === idx 
                                        ? 'text-white shadow-md transform scale-105' 
                                        : 'bg-white text-gray-600 border border-gray-200 hover:bg-gray-50'
                                }`}
                                style={{ backgroundColor: activeRole === idx ? BRAND_GREEN : 'white' }}
                            >
                                {role.role}
                            </button>
                        ))}
                    </div>

                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-1.5 h-full" style={{ backgroundColor: BRAND_YELLOW }}></div>
                        <h3 className="font-bold text-xl mb-4 flex items-center gap-2" style={{ color: BRAND_GREEN }}>
                            <IconShield />
                            {data.list[activeRole].role}
                        </h3>
                        <ul className="space-y-4">
                            {data.list[activeRole].tasks.map((task, i) => (
                                <li key={i} className="flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100">
                                    <span className="mt-0.5 flex-shrink-0" style={{ color: BRAND_GREEN }}><IconCheck /></span>
                                    <span className="text-gray-700">{task}</span>
                                </li>
                            ))}
                        </ul>
                    </div>
                </div>
            );
        };

        // --- NEW QUIZ SYSTEM ---

        // H√†m x√°o tr·ªôn m·∫£ng (Fisher-Yates)
        const shuffleArray = (array) => {
            let currentIndex = array.length, randomIndex;
            // While there remain elements to shuffle.
            while (currentIndex != 0) {
                // Pick a remaining element.
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                // And swap it with the current element.
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        };

        const QuizView = () => {
            // States cho Quiz Flow
            const [viewState, setViewState] = useState('intro'); // intro, taking, result
            const [userName, setUserName] = useState('');
            const [questionLimit, setQuestionLimit] = useState(10);
            const [questions, setQuestions] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [error, setError] = useState(null);
            
            // States cho qu√° tr√¨nh l√†m b√†i
            const [currentQIndex, setCurrentQIndex] = useState(0);
            const [selectedAnswers, setSelectedAnswers] = useState({});
            const [score, setScore] = useState(0);

            // B·∫Øt ƒë·∫ßu l√†m b√†i
            const startQuiz = () => {
                if (!userName.trim()) {
                    alert("Vui l√≤ng nh·∫≠p h·ªç v√† t√™n tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu!");
                    return;
                }
                
                setIsLoading(true);
                setError(null);

                // Fetch c√¢u h·ªèi t·ª´ file JSON
                fetch('cauhoicldv.json')
                    .then(response => {
                        if (!response.ok) {
                             throw new Error('Kh√¥ng th·ªÉ t·∫£i b·ªô c√¢u h·ªèi. Vui l√≤ng ki·ªÉm tra l·∫°i k·∫øt n·ªëi ho·∫∑c file cauhoicldv.json.');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // 1. X√°o tr·ªôn ng√¢n h√†ng c√¢u h·ªèi
                        let quizPool = [...data];
                        quizPool = shuffleArray(quizPool);

                        // 2. C·∫Øt l·∫•y s·ªë l∆∞·ª£ng c√¢u h·ªèi mong mu·ªën
                        let selectedQuestions = [];
                        if (questionLimit === 'all') {
                            selectedQuestions = quizPool;
                        } else {
                            selectedQuestions = quizPool.slice(0, Math.min(questionLimit, quizPool.length));
                        }

                        if(selectedQuestions.length === 0) {
                             throw new Error('File d·ªØ li·ªáu c√¢u h·ªèi tr·ªëng.');
                        }

                        setQuestions(selectedQuestions);
                        setCurrentQIndex(0);
                        setSelectedAnswers({});
                        setScore(0);
                        setViewState('taking');
                        setIsLoading(false);
                    })
                    .catch(err => {
                        console.error("Error loading quiz:", err);
                        setError(err.message + " (L∆∞u √Ω: N·∫øu b·∫°n ƒëang m·ªü tr·ª±c ti·∫øp file html t·ª´ m√°y t√≠nh, h√£y d√πng Live Server ƒë·ªÉ ch·∫°y.)");
                        setIsLoading(false);
                    });
            };

            const handleAnswer = (optionIndex) => {
                if (selectedAnswers[currentQIndex] !== undefined) return;
                const newAnswers = { ...selectedAnswers, [currentQIndex]: optionIndex };
                setSelectedAnswers(newAnswers);
            };

            const finishQuiz = () => {
                // T√≠nh ƒëi·ªÉm
                let s = 0;
                questions.forEach((q, idx) => {
                    if (selectedAnswers[idx] === q.correct) s++;
                });
                setScore(s);
                setViewState('result');
                
                // L∆∞u l·ªãch s·ª≠ (ƒë∆°n gi·∫£n)
                const history = JSON.parse(localStorage.getItem('quiz_history') || '[]');
                history.push({
                    name: userName,
                    date: new Date().toLocaleString(),
                    score: s,
                    total: questions.length
                });
                localStorage.setItem('quiz_history', JSON.stringify(history));
            };

            // --- VIEW 1: INTRO ---
            if (viewState === 'intro') {
                return (
                    <div className="animate-fade-in bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <div className="text-center mb-8">
                            <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-[#006B68]">
                                <IconQuiz />
                            </div>
                            <h2 className="text-2xl font-bold" style={{color: BRAND_GREEN}}>Ki·ªÉm Tra Ki·∫øn Th·ª©c</h2>
                            <p className="text-gray-500 text-sm mt-1">H·ªá th·ªëng c√¢u h·ªèi tr·∫Øc nghi·ªám ti√™u chu·∫©n CLDV</p>
                        </div>

                        <div className="space-y-6 max-w-sm mx-auto">
                            {error && (
                                <div className="bg-red-50 text-red-600 p-3 rounded-lg text-sm border border-red-200">
                                    {error}
                                </div>
                            )}

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">H·ªç v√† t√™n c√°n b·ªô:</label>
                                <input 
                                    type="text" 
                                    value={userName}
                                    onChange={(e) => setUserName(e.target.value)}
                                    placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n..."
                                    className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#006B68] focus:border-transparent outline-none"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">S·ªë l∆∞·ª£ng c√¢u h·ªèi:</label>
                                <div className="grid grid-cols-4 gap-2">
                                    {[10, 20, 30, 50, 100, 150, 200, 'all'].map((opt) => (
                                        <button
                                            key={opt}
                                            onClick={() => setQuestionLimit(opt)}
                                            className={`py-2 rounded-md text-sm font-medium border transition-all ${
                                                questionLimit === opt 
                                                ? `bg-[${BRAND_GREEN}] text-white border-[${BRAND_GREEN}]` 
                                                : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'
                                            }`}
                                            style={{ backgroundColor: questionLimit === opt ? BRAND_GREEN : 'white' }}
                                        >
                                            {opt === 'all' ? 'T·∫•t c·∫£' : opt}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <button 
                                onClick={startQuiz}
                                disabled={isLoading}
                                className={`w-full py-3.5 rounded-lg text-white font-bold shadow-lg transform transition-transform active:scale-95 flex items-center justify-center gap-2 ${isLoading ? 'opacity-70 cursor-not-allowed' : ''}`}
                                style={{backgroundColor: BRAND_YELLOW, color: '#000'}}
                            >
                                {isLoading ? 'ƒêang t·∫£i...' : <><IconPlay /> B·∫Øt ƒê·∫ßu L√†m B√†i</>}
                            </button>
                        </div>
                    </div>
                );
            }

            // --- VIEW 2: TAKING ---
            if (viewState === 'taking') {
                const question = questions[currentQIndex];
                const isAnswered = selectedAnswers[currentQIndex] !== undefined;
                const isCorrect = selectedAnswers[currentQIndex] === question.correct;

                return (
                    <div className="animate-fade-in pb-10">
                         <div className="flex justify-between items-center mb-4 bg-white p-3 rounded-lg shadow-sm">
                            <div>
                                <span className="text-xs text-gray-400 block">Th√≠ sinh</span>
                                <span className="font-bold text-sm text-gray-800">{userName}</span>
                            </div>
                            <div className="text-right">
                                <span className="text-xs text-gray-400 block">Ti·∫øn ƒë·ªô</span>
                                <span className="font-bold text-lg" style={{color: BRAND_GREEN}}>{currentQIndex + 1}/{questions.length}</span>
                            </div>
                         </div>
    
                         {/* Question Card */}
                         <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-6">
                            <div className="p-5 border-b border-gray-50">
                                <h3 className="font-bold text-lg text-gray-800 leading-snug">{question.question}</h3>
                            </div>
                            <div className="p-4 bg-gray-50/50">
                                <div className="space-y-3">
                                    {question.options.map((opt, idx) => {
                                        let btnClass = "w-full text-left p-4 rounded-lg border-2 transition-all relative ";
                                        if (!isAnswered) {
                                            btnClass += "border-white bg-white hover:border-gray-200 shadow-sm";
                                        } else {
                                            if (idx === question.correct) {
                                                btnClass += "border-green-500 bg-green-50 text-green-800"; // Correct answer always green
                                            } else if (idx === selectedAnswers[currentQIndex]) {
                                                btnClass += "border-red-500 bg-red-50 text-red-800"; // Wrong selection red
                                            } else {
                                                btnClass += "border-transparent opacity-50"; // Others dimmed
                                            }
                                        }
    
                                        return (
                                            <button 
                                                key={idx}
                                                disabled={isAnswered}
                                                onClick={() => handleAnswer(idx)}
                                                className={btnClass}
                                            >
                                                <div className="flex items-start gap-3">
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center border flex-shrink-0 mt-0.5 ${
                                                        isAnswered && idx === question.correct ? "bg-green-500 border-green-500 text-white" :
                                                        isAnswered && idx === selectedAnswers[currentQIndex] ? "bg-red-500 border-red-500 text-white" :
                                                        "border-gray-300 text-gray-500"
                                                    }`}>
                                                        {isAnswered && idx === question.correct ? <IconCheck /> : 
                                                         isAnswered && idx === selectedAnswers[currentQIndex] ? <IconX /> : 
                                                         <span className="text-xs font-bold">{String.fromCharCode(65 + idx)}</span>}
                                                    </div>
                                                    <span>{opt}</span>
                                                </div>
                                            </button>
                                        );
                                    })}
                                </div>
                            </div>
                            
                            {/* Rationale Section */}
                            {isAnswered && (
                                <div className={`p-4 border-t ${isCorrect ? "bg-green-50 border-green-100" : "bg-red-50 border-red-100"}`}>
                                    <div className="flex items-start gap-2">
                                        <div className="mt-1"><IconInfo /></div>
                                        <div>
                                            <p className="font-bold text-sm mb-1">{isCorrect ? "Ch√≠nh x√°c!" : "Ch∆∞a ch√≠nh x√°c"}</p>
                                            <p className="text-sm text-gray-700">{question.rationale}</p>
                                        </div>
                                    </div>
                                </div>
                            )}
                         </div>
    
                         {/* Navigation Buttons */}
                         <div className="flex justify-end gap-3">
                             <button
                                onClick={() => {
                                    if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën tho√°t b√†i thi?")) setViewState('intro');
                                }}
                                className="px-4 py-2 text-gray-500 text-sm font-medium hover:text-gray-700"
                             >
                                Tho√°t
                             </button>

                            {isAnswered && (
                                currentQIndex < questions.length - 1 ? (
                                    <button 
                                        onClick={() => setCurrentQIndex(prev => prev + 1)}
                                        className="px-6 py-3 rounded-lg text-white font-bold shadow-lg flex items-center gap-2"
                                        style={{backgroundColor: BRAND_GREEN}}
                                    >
                                        C√¢u ti·∫øp theo <IconChevronDown className="transform -rotate-90"/>
                                    </button>
                                ) : (
                                    <button 
                                        onClick={finishQuiz}
                                        className="px-6 py-3 rounded-lg text-white font-bold shadow-lg flex items-center gap-2"
                                        style={{backgroundColor: BRAND_YELLOW, color: '#000'}}
                                    >
                                        N·ªôp b√†i <IconCheck />
                                    </button>
                                )
                            )}
                         </div>
                    </div>
                );
            }

            // --- VIEW 3: RESULT ---
            if (viewState === 'result') {
                const percentage = Math.round((score / questions.length) * 100);
                let message = "";
                if (percentage >= 90) message = "Xu·∫•t s·∫Øc! B·∫°n n·∫Øm r·∫•t v·ªØng quy ƒë·ªãnh.";
                else if (percentage >= 70) message = "L√†m t·ªët l·∫Øm! H√£y c·ªë g·∫Øng th√™m ch√∫t n·ªØa.";
                else if (percentage >= 50) message = "ƒê·∫°t y√™u c·∫ßu. C·∫ßn √¥n l·∫°i c√°c l·ªói sai.";
                else message = "Ch∆∞a ƒë·∫°t. B·∫°n c·∫ßn ƒë·ªçc k·ªπ l·∫°i S·ªï tay CLDV.";

                return (
                    <div className="animate-fade-in bg-white p-8 rounded-xl shadow-md text-center">
                        <div className="w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span className="text-4xl">üèÜ</span>
                        </div>
                        <h2 className="text-2xl font-bold mb-1" style={{color: BRAND_GREEN}}>K·∫øt Qu·∫£ B√†i Thi</h2>
                        <p className="text-gray-500 font-medium">{userName}</p>
                        
                        <div className="my-6">
                            <div className="text-5xl font-bold mb-2" style={{color: BRAND_YELLOW}}>{score}/{questions.length}</div>
                            <div className="text-sm text-gray-400">C√¢u tr·∫£ l·ªùi ƒë√∫ng</div>
                        </div>

                        <div className={`p-3 rounded-lg text-sm mb-6 ${percentage >= 50 ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}`}>
                            {message}
                        </div>

                        <div className="flex flex-col gap-3">
                            <button 
                                onClick={() => setViewState('intro')}
                                className="w-full py-3 rounded-lg font-bold text-white shadow-lg transform transition-transform active:scale-95"
                                style={{backgroundColor: BRAND_GREEN}}
                            >
                                <IconRefresh className="inline mr-2"/> L√†m b√†i m·ªõi
                            </button>
                        </div>
                    </div>
                );
            }
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('general');
            const [searchTerm, setSearchTerm] = useState('');

            const filteredContent = useMemo(() => {
                if (!searchTerm) return null;
                const results = [];
                const term = searchTerm.toLowerCase();

                Object.keys(DATA).forEach(key => {
                    const section = DATA[key];
                    if (section.standards) {
                        section.standards.forEach(std => {
                            if (std.name.toLowerCase().includes(term) || std.details.some(d => d.toLowerCase().includes(term))) {
                                results.push({ title: std.name, detail: std.details.find(d => d.toLowerCase().includes(term)) || std.details[0], category: section.title });
                            }
                        });
                    }
                    if (section.list) {
                        section.list.forEach(role => {
                            if (role.role.toLowerCase().includes(term) || role.tasks.some(t => t.toLowerCase().includes(term))) {
                                results.push({ title: role.role, detail: role.tasks.find(t => t.toLowerCase().includes(term)) || role.tasks[0], category: section.title });
                            }
                        });
                    }
                     if (section.items) {
                        section.items.forEach(item => {
                             if (item.title.toLowerCase().includes(term) || item.content.some(c => c.toLowerCase().includes(term))) {
                                results.push({ title: item.title, detail: item.content.find(c => c.toLowerCase().includes(term)) || item.content[0], category: section.title });
                            }
                        })
                     }
                });
                return results;
            }, [searchTerm]);

            const renderContent = () => {
                if (searchTerm) {
                    return (
                        <div className="space-y-4 animate-fade-in">
                            <h3 className="text-gray-500 mb-2 text-sm font-medium">K·∫øt qu·∫£ t√¨m ki·∫øm cho "{searchTerm}":</h3>
                            {filteredContent.length === 0 ? (
                                <div className="text-center py-12 bg-white rounded-xl border border-gray-200">
                                    <p className="text-gray-400">Kh√¥ng t√¨m th·∫•y n·ªôi dung n√†o.</p>
                                </div>
                            ) : (
                                filteredContent.map((item, idx) => (
                                    <div key={idx} className="bg-white p-4 rounded-lg shadow-sm border-l-4" style={{ borderColor: BRAND_YELLOW }}>
                                        <div className="text-xs font-bold uppercase tracking-wider text-gray-400 mb-1">{item.category}</div>
                                        <div className="font-bold text-gray-800 mb-1">{item.title}</div>
                                        <div className="text-sm text-gray-600 line-clamp-2">...{item.detail}...</div>
                                    </div>
                                ))
                            )}
                        </div>
                    );
                }

                switch (activeTab) {
                    case 'general': return <GeneralView data={DATA.general} />;
                    case 'facilities': return <StandardView data={DATA.facilities} />;
                    case 'staff_general': return <StandardView data={DATA.staff_general} />;
                    case 'roles': return <RoleSelector data={DATA.roles} />;
                    case 'atm': return <StandardView data={DATA.atm} />;
                    case 'quiz': return <QuizView />;
                    default: return <GeneralView data={DATA.general} />;
                }
            };

            return (
                <div className="min-h-screen flex flex-col max-w-md mx-auto md:max-w-full md:mx-0 bg-[#f3f4f6]">
                    <header className="sticky top-0 z-50 shadow-lg text-white" style={{ backgroundColor: BRAND_GREEN }}>
                        <div className="container mx-auto max-w-3xl px-4 py-3 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                {/* Logo thay th·∫ø */}
                                <img 
                                    src="https://static.brandirectory.com/logos/BFOV001_logo_bidv_svg_png.png" 
                                    alt="Logo BIDV" 
                                    className="h-10 w-20 object-contain bg-white rounded-md p-1 shadow-sm"
                                />
                                <div>
                                    <h1 className="font-bold text-lg leading-tight">S·ªï Tay CLDV</h1>
                                    <div className="text-[10px] opacity-80 font-light">NƒÉm 2025</div>
                                </div>
                            </div>
                        </div>
                        <div className="w-full overflow-x-auto no-scrollbar bg-black/10 backdrop-blur-sm border-t border-white/10">
                             <div className="container mx-auto max-w-3xl flex">
                                {Object.keys(DATA).map((key) => {
                                    const item = DATA[key];
                                    const isActive = activeTab === key;
                                    return (
                                        <button
                                            key={key}
                                            onClick={() => { setActiveTab(key); setSearchTerm(''); window.scrollTo({top: 0, behavior: 'smooth'}); }}
                                            className={`flex flex-col items-center justify-center gap-1 px-4 py-2 whitespace-nowrap transition-all border-b-2 flex-shrink-0 min-w-[80px] ${isActive ? `border-[${BRAND_YELLOW}] text-white font-semibold bg-white/10` : 'border-transparent text-white/70 hover:bg-white/5'}`}
                                            style={{ borderColor: isActive ? BRAND_YELLOW : 'transparent', color: isActive ? BRAND_YELLOW : 'rgba(255,255,255,0.8)' }}
                                        >
                                            <span className="opacity-80 scale-90">{item.icon}</span>
                                            <span className="text-xs">{item.title}</span>
                                        </button>
                                    );
                                })}
                                {/* Add Quiz Tab Button */}
                                <button
                                    onClick={() => { setActiveTab('quiz'); setSearchTerm(''); window.scrollTo({top: 0, behavior: 'smooth'}); }}
                                    className={`flex flex-col items-center justify-center gap-1 px-4 py-2 whitespace-nowrap transition-all border-b-2 flex-shrink-0 min-w-[80px] ${activeTab === 'quiz' ? `border-[${BRAND_YELLOW}] text-white font-semibold bg-white/10` : 'border-transparent text-white/70 hover:bg-white/5'}`}
                                    style={{ borderColor: activeTab === 'quiz' ? BRAND_YELLOW : 'transparent', color: activeTab === 'quiz' ? BRAND_YELLOW : 'rgba(255,255,255,0.8)' }}
                                >
                                    <span className="opacity-80 scale-90"><IconQuiz /></span>
                                    <span className="text-xs">Tr·∫Øc nghi·ªám</span>
                                </button>
                            </div>
                        </div>
                    </header>
                    
                    {activeTab !== 'quiz' && (
                    <div className="bg-white border-b border-gray-200 px-4 py-3 sticky top-[108px] md:top-[112px] z-40 shadow-sm">
                         <div className="relative container mx-auto max-w-3xl">
                            <span className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"><IconSearch /></span>
                            <input type="text" placeholder="Tra c·ª©u nhanh (vd: ƒë·ªìng ph·ª•c, b·∫£o v·ªá...)" className="w-full pl-10 pr-10 py-2.5 bg-gray-100 rounded-lg text-sm focus:bg-white focus:ring-2 focus:ring-[#006B68] focus:outline-none transition-all placeholder-gray-500" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
                            {searchTerm && ( <button onClick={() => setSearchTerm('')} className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1"><IconX /></button> )}
                         </div>
                    </div>
                    )}
                    
                    <main className="flex-1 container mx-auto max-w-3xl px-4 py-6 pb-24">
                        {renderContent()}
                    </main>
                    <footer className="bg-white border-t border-gray-200 py-6 text-center text-xs text-gray-500">
                        <div className="container mx-auto max-w-3xl px-4">
                            <p className="font-semibold mb-1" style={{color: BRAND_GREEN}}>NG√ÇN H√ÄNG TMCP ƒê·∫¶U T∆Ø V√Ä PH√ÅT TRI·ªÇN VI·ªÜT NAM</p>
                            <p>T√†i li·ªáu n·ªôi b·ªô - Ban QLDA CRM</p>
                            <p className="mt-2 text-[10px] text-gray-400">Phi√™n b·∫£n 1.1.0 (HTML5)</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
